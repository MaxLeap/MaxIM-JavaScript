{"version":3,"sources":["../src/impl/common/buildLoad.ts"],"names":[],"mappings":";;;;;;;IASA;QAA8B,mCAAoB;QAAlD;YAA8B,8BAAoB;QAmClD,CAAC;QAjCQ,iCAAO,GAAd,UAAe,QAA8B;YAC3C,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;QACtC,CAAC;QAEM,kCAAQ,GAAf,UAAgB,QAA6B;YAC3C,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;QACzC,CAAC;QAEM,iCAAO,GAAd,UAAe,QAA4B;YACzC,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;QACxC,CAAC;QAEM,sCAAY,GAAnB,UAAoB,QAA6B;YAC/C,IAAI,CAAC,YAAY,CAAC,aAAa,EAAE,QAAQ,CAAC,CAAC;QAC7C,CAAC;QAEO,sCAAY,GAApB,UAAwB,IAAY,EAAE,QAAqB;YACzD,IAAM,GAAG,GAAG,KAAG,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,SAAI,IAAI,CAAC,UAAU,CAAC,EAAI,CAAC;YACrE,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,EAAE,EAAC,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,EAAC,CAAC;iBACpD,IAAI,CAAC,UAAC,QAAQ;gBACb,MAAM,CAAC,QAAQ,CAAC,IAAS,CAAC;YAC5B,CAAC,CAAC;iBACD,IAAI,CAAC,UAAC,MAAM;gBACX,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;oBACb,QAAQ,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;gBACzB,CAAC;YACH,CAAC,CAAC;iBACD,KAAK,CAAC,UAAC,CAAC;gBACP,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;oBACb,QAAQ,CAAC,CAAC,CAAC,CAAC;gBACd,CAAC;YACH,CAAC,CAAC,CAAC;QACT,CAAC;QACH,sBAAC;IAAD,CAnCA,AAmCC,CAnC6B,iBAAO,GAmCpC;IAGC,uBAAe,mBAHhB;IAIC","file":"buildLoad.js","sourcesContent":["import * as axios from \"axios\";\nimport {LoadBuilder} from \"../../api/common\";\nimport {Callback, GroupInfo, Passenger, RoomInfo, UserDetail} from \"../../model/models\";\nimport {Builder} from \"./builder\";\n\ninterface LoadOptions {\n  id: string;\n}\n\nclass LoadBuilderImpl extends Builder<LoadOptions> implements LoadBuilder {\n\n  public forUser(callback: Callback<UserDetail>) {\n    this.forSomething(\"/ctx\", callback);\n  }\n\n  public forGroup(callback: Callback<GroupInfo>) {\n    this.forSomething(\"/groups\", callback);\n  }\n\n  public forRoom(callback: Callback<RoomInfo>) {\n    this.forSomething(\"/rooms\", callback);\n  }\n\n  public forPassenger(callback: Callback<Passenger>) {\n    this.forSomething(\"/passengers\", callback);\n  }\n\n  private forSomething<T>(path: string, callback: Callback<T>) {\n    const url = `${this.apiOptions.server}${path}/${this.extOptions.id}`;\n    axios.post(url, null, {headers: this.apiOptions.headers})\n        .then((response) => {\n          return response.data as T;\n        })\n        .then((result) => {\n          if (callback) {\n            callback(null, result);\n          }\n        })\n        .catch((e) => {\n          if (callback) {\n            callback(e);\n          }\n        });\n  }\n}\n\nexport {\n  LoadBuilderImpl,\n};\n"]}