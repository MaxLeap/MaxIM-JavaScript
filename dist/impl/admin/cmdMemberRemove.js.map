{"version":3,"sources":["../src/impl/admin/cmdMemberRemove.ts"],"names":[],"mappings":";;IAGA;QAKE,iCAAY,KAAY,EAAE,OAAiB;YACzC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;YACnB,IAAI,CAAC,OAAO,GAAG;gBACb,gBAAO;aACR,CAAC;QACJ,CAAC;QAEM,0CAAQ,GAAf,UAAgB,MAAc,EAAE,QAAyB;YACvD,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,YAAU,MAAQ,EAAE,QAAQ,CAAC,CAAC;QACzD,CAAC;QAEM,2CAAS,GAAhB,UAAiB,OAAe,EAAE,QAAyB;YACzD,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,aAAW,OAAS,EAAE,QAAQ,CAAC,CAAC;QAC3D,CAAC;QAEO,8CAAY,GAApB,UAAqB,IAAY,EAAE,QAAyB;YAC1D,IAAM,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;YAChC,IAAM,GAAG,GAAG,KAAG,EAAE,CAAC,MAAM,GAAG,IAAI,aAAU,CAAC;YAC1C,IAAM,GAAG,GAAG;gBACV,QAAG;gBACH,MAAM,EAAE,QAAQ;gBAChB,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC;gBAClC,OAAO,EAAE,EAAE,CAAC,OAAO;aACpB,CAAC;YACF,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC;iBACb,IAAI,CAAC,UAAC,MAAM;gBACX,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;oBACb,QAAQ,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;gBACvB,CAAC;YACH,CAAC,CAAC;iBACD,KAAK,CAAC,UAAC,CAAC;gBACP,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;oBACb,QAAQ,CAAC,CAAC,CAAC,CAAC;gBACd,CAAC;YACH,CAAC,CAAC,CAAC;YACP,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;QACpB,CAAC;QACH,8BAAC;IAAD,CA1CA,AA0CC,IAAA;IAGC,+BAAuB,2BAHxB;IAIC","file":"cmdMemberRemove.js","sourcesContent":["import {Admin, MemberRemoveCommand} from \"../../api/admin\";\nimport {Callback} from \"../../model/models\";\n\nclass MemberRemoveCommandImpl implements MemberRemoveCommand {\n\n  private admin: Admin;\n  private members: { members: string[] };\n\n  constructor(admin: Admin, members: string[]) {\n    this.admin = admin;\n    this.members = {\n      members,\n    };\n  }\n\n  public fromRoom(roomid: string, callback?: Callback<void>): Admin {\n    return this.invokeDelete(`/rooms/${roomid}`, callback);\n  }\n\n  public fromGroup(groupid: string, callback?: Callback<void>): Admin {\n    return this.invokeDelete(`/groups/${groupid}`, callback);\n  }\n\n  private invokeDelete(path: string, callback?: Callback<void>): Admin {\n    const op = this.admin.options();\n    const url = `${op.server}${path}/members`;\n    const req = {\n      url,\n      method: \"DELETE\",\n      data: JSON.stringify(this.members),\n      headers: op.headers,\n    };\n    axios.request(req)\n        .then((ignore) => {\n          if (callback) {\n            callback(null, null);\n          }\n        })\n        .catch((e) => {\n          if (callback) {\n            callback(e);\n          }\n        });\n    return this.admin;\n  }\n}\n\nexport {\n  MemberRemoveCommandImpl,\n};\n"]}